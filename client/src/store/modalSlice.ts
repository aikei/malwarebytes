import { createSlice } from '@reduxjs/toolkit'

const initialState: {
  open: boolean,
  selectedItem: any,
  modalMessages: any[]
} = {
  open: false,
  selectedItem: null,
  modalMessages: []
}

export const modalSlice = createSlice({
  name: 'modal',
  initialState,
  reducers: {
    openModal(state, action) {
      state.open = true;
      state.selectedItem = action.payload;
    },
    closeModal(state) {
      state.open = false;
      state.selectedItem = null;
    },
    addModalMessage(state, action) {
      state.modalMessages.push({
        title: action.payload.title,
        message: action.payload.message
      });
    },
    removeModalMessage(state, action) {
      state.modalMessages.splice(action.payload.index, 1);
    }
  }
});

export type ModalStateType = typeof initialState;

export const { openModal, closeModal, addModalMessage, removeModalMessage } = modalSlice.actions;

export default modalSlice.reducer;
